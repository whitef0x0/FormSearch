

Personas
========

1. Medical Office Assistants
2. Doctors

Use Cases
=========

0. Create Institution
  a. enter name
  b. optionally enter address
  c. optionally enter phone

1. New Specialist Referral Form
  a. upload file (from scanned image)
  b. choose Institution

2. Search for Specialist Referral Form
  a. omni-text search for institution name and form title.
  b. If instituation is clicked, list all forms for that institution.
  c. If form is clicked, go to 3.

3. View and print Form
  a. Full page view of form.

DB Schema
=========

CREATE TABLE places (
  name varchar(255),
  city varchar(255),
  id bigserial primary key 
);

CREATE TABLE reasons (
  name varchar(255),
  id bigserial primary key 
);

CREATE TABLE forms (
  title varchar(255),
  reason_id integer ,
  place_id integer ,
  is_pediatric boolean,
  id bigserial primary key,
  filename varchar(255)
);

DB Fixture
==========
(order matters!)

INSERT INTO reasons (name) VALUES ('Cardiology');
INSERT INTO places (name, city) VALUES ('North Shore Heart Group', 'North Vancouver');
INSERT INTO forms (title, is_pediatric, reason_id, place_id) VALUES ('Out-Patient Cardiology Refferal','t',1,1 );

INSERT INTO reasons (name) VALUES ('Cardiology');
INSERT INTO places (name, city) VALUES ('North Heart Group', 'North Vancouver');
INSERT INTO forms (title, is_pediatric, reason_id, place_id) VALUES ('Out-Patient Cardiology Refferal','t',2,2 );



Search Query
============

```
SELECT
r.name, p.name, p.city, f.title
FROM
reasons as r, places as p, forms as f
WHERE
f.reason_id = r.id AND f.place_id = p.id

'''