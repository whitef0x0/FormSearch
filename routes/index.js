// Generated by CoffeeScript 1.5.0
(function() {
  var models, templates;

  models = require("../models");

  templates = {
    "login": {
      "inputs": [
        {
          "label": "Password",
          "name": "Password",
          "id": "password",
          "type": "text"
        }, {
          "label": "Username",
          "name": "Username",
          "id": "username",
          "type": "text"
        }
      ]
    },
    "signup": {
      "inputs": [
        {
          "name": "Password",
          "id": "password",
          "type": "text"
        }, {
          "name": "Username",
          "id": "username",
          "type": "text"
        }, {
          "name": "Email",
          "id": "email",
          "type": "text"
        }, {
          "name": "ToS",
          "id": "tos",
          "type": "checkbox"
        }
      ]
    }
  };

  exports.index = function(req, res) {
    return res.render("layout", {
      title: "Form Search",
      searchbox: "true"
    });
  };

  /*
    else
  
  exports.login = (req, res) ->
    res.render "/partials/login",
      searchbox: 'true'
  #    res.send(JSON.stringify(templates.login))
  */


  exports.results = function(req, res) {
    res.contentType("json");
    return models.Search(req.query.term, function(data) {
      console.log("DATA OUTPUT IS:");
      return res.json(data);
    });
  };

  exports.upload = function(req, res) {
    return res.render("layout", res.send('<form action="/upload" enctype="multipart/form-data" method="post">' + '<input type="text" name="title"><br>' + '<input type="file" name="upload" multiple="multiple"><br>' + '<input type="submit" value="Upload">' + '</form>'));
  };

}).call(this);
